<!DOCTYPE html>
<html lang="en">
<head>
    <%- include('../partials/head'); %>
</head>
<%- include('../partials/Modal'); %>
<body class="container">

    <header>
        <%- include('../partials/header'); %>
    </header>

    <main>
        <div class="jumbotron">
            <h2>Customers</h2>
            <div>
                <div>
                    <button class="btn btn-link" id="myBtn">Add New Customer</button>        
                    <div id="myModal" class="modal">        
                        <!-- Modal content -->
                        <div class="modal-content">
                          <span class="close">&times;</span>
                          <form action="/customers/new" method="post">
                            <div>
                                <h2 class="text-center">Add New Customer</h2>
                                <div class="jumbotron">
                                    <label for="ex1">First Name</label>
                                    <input class="form-control" name="firstname" id="firstname" type="text">
                                    <label for="ex1">Last Name</label>
                                    <input class="form-control" name="lastname" id="lastname" type="text">
                                    <label for="ex1">Phone</label>
                                    <input class="form-control" name="phone" id="phone" type="tel"><BR>
                                    <label for="ex1">Email</label>
                                    <input class="form-control" name="email" id="email" type="text"><BR>
                                    <label for="ex1">Street</label>
                                    <input class="form-control" name="street" id="street" type="text"><BR> 
                                    <label for="ex1">City</label>
                                    <input class="form-control" name="city" id="city" type="text"><BR>   
                                    <!--Drop down for state-->
                                    <label for="ex1">State</label>
                                    <select class="form-control" name="state" id="state">
                                        <% states.forEach(function(states) { %>              
                                        <option value=<%=states.state_code_id %>><%=states.state_name %></option>
                                        <% }); %>
                                    </select><BR>
                                    
                                    <label for="ex1">Zip Code</label>
                                    <input class="form-control" name="zipcode" id="zipcode" type="text"><BR>
                                    <button type="submit" style="background-color:#198754" class="btn btn-success">Submit</button>
                                </div>
                            </div>
                          </form>                         
                        </div>                     
                    </div>
                    
                    <button class="btn btn-link" id="myBtn3">Update Exisiting Customer</button>       
                    <div id="myModal3" class="modal">        
                        <!-- Modal content -->
                        <div class="modal-content">
                            <span class="close3">&times;</span>
                            <h2 class="text-center">Update Existing Customer</h2>
                            <form action="/customer/update/info" method="post">
                                <div class="jumbotron">
                                    <!--drop down for Job ID -->
                                    <label for="ex1">Select the Customer ID You Wish to Update</label>
                                    <select class="form-control" name="customer_id" id="cussid">
                                      <% customer_id.forEach(function(customer_id) { %>              
                                        <option value=<%= customer_id.customer_id%>><%= customer_id.customer_id%></option>
                                      <% }); %>
                                    </select>
                                    <br>
                                    <button type="submit" style="color:#198754" class="btn btn-success">Submit</button>
                                  </div> 
                            </form>
                        </div>
                    </div>
    
                    <button class="btn btn-link" id="myBtn4">Delete Exisiting Customer</button>       
                    <div id="myModal4" class="modal">        
                        <!-- Modal content -->
                        <div class="modal-content">
                            <span class="close4">&times;</span>
                            <h2 class="text-center">Delete Existing Customer</h2>
                            <form action="/customer/delete" method="post">
                                <div class="jumbotron">
                                    <!--drop down for Job ID -->
                                    <label for="ex1">Select the Customer ID You Wish to Delete</label>
                                    <select class="form-control" name="cussid" id="cussid">
                                      <% customer_id.forEach(function(customer_id) { %>              
                                        <option value=<%= customer_id.customer_id%>><%= customer_id.customer_id%></option>
                                      <% }); %>
                                    </select>
                                    <br>
                                    <button type="submit" style="color:#198754" class="btn btn-success">Submit</button>
                                  </div> 
                            </form>
                        </div>
                       
                    </div>
                </div>
            </div>
            <div>
                <table class="table">
                    <thead class="table-dark">
                        <tr>
                            <th>Customer ID</th>
                            <th>Name</th>
                            <th>Phone</th>
                            <th>Email</th>
                            <th>Address</th>
                            
                        </tr>
                    </thead>
                    <tbody>
                    <% customer_list.forEach(function(customer_list) { %>
                    <tr><td><%= customer_list.customer_id%></td>
                        <td><%= customer_list.last_name%>,&nbsp<%= customer_list.first_name%></td>
                        <td><%= customer_list.phone%></td>
                        <td><%= customer_list.email%></td>
                        <td><%= customer_list.street%><br><%=customer_list.city%>,&nbsp<%=customer_list.state_code_id%>&nbsp<%=customer_list.zipcode%></td>
                    </tr>
                    <% }); %>
                   
                    </tbody>
                </table>    
            </div>
        </div>
       
         <!-- <div>
            <ul>
                <% customer_list.forEach(function(customer_list) { %>
                    <li class="h4">
                        <%= customer_list.first_name%>&nbsp;&nbsp;&nbsp;&nbsp;$<%= customer_list.last_name%><%= customer_list.phone%><%= customer_list.email%><%= customer_list.street%><%= customer_list.city%><%= customer_list.state_code_id%><%= customer_list.zipcode%>
                    </li>
                <% }); %>
            </ul>
        </div>  -->
    </main>

    <footer>
        <%- include('../partials/footer'); %>
    </footer>

</body>
</html>